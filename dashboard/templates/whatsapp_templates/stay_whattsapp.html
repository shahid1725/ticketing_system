<!DOCTYPE html>
{%load static%} 

<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Trip Invoice Email</title>
        
        <link rel="stylesheet" href="{%static 'css/dashboard.css'%}" />
        <link rel="stylesheet" href="{%static 'css/dashboard2.css'%}" />
        <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
          crossorigin="anonymous"
        />
        <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"
      ></script>
      <style>
         #invoice-details{
            display: block;
        }

        #invoice-details-mobile{
            display: none;
        }

        @media (max-width:550px){
            #invoice-details{
            display: none;
        }

        #invoice-details-mobile{
            display: block;
        }
        }
      </style>
    </head>
<body>
  <div class="d-flex justify-content-center pt-2">
    <button class="theme-btn px-3 py-2 rounded-1" id="downloadButton">Download</button>
</div>
<div style="max-width: 900px;margin-inline: auto;margin-top: 2rem;">
    <div class="" id="invoice-details" style="margin: auto; font-family: 'Poppins', sans-serif;">
        <div class="invoice-content"
            style="height: auto; background-color: white; box-shadow: 0px -1px 3px 1px rgb(204, 200, 200);">
            <div class="view-details" style="background-color: #324969; padding: 1rem;">
                <div class="mt-3 px-5 py-2 " style="color: white;">
                    <div>
                        <table style="width: 100%;">
                            <tr>
                                <td style="padding-left: 2rem;">
                                    <img src="{%static 'assets/invchr.png'%}?{% now "U" %}" style="width: 20%;" />
                                    <p style="margin: 5px 0;">7909 151 146</p>
                                    <p style="margin: 5px 0;">www.navigotrips.com</p>
                                    <p style="margin: 5px 0;">Navig trips LLP
                                        [LLPIN ABB - 4601]
                                        Vatakara 
                                        Kozhikode 
                                        Kerala</p>
                                </td>
                            </tr>
                            <tr>
                                <td
                                    style="font-size: 1.5rem; font-weight: 600; text-align: right;padding-right: 3rem;white-space: nowrap;">
                                   <span id="num-value"></span></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="" style="width: 100%;">
                <div style="width: 100%; margin-top: 5rem;">
                   
                </div>
                <div>
                    <table style="width: 80%;border-collapse: collapse;  border: 1px solid black;margin-left: 5rem;text-align: center;text-transform: uppercase;margin-top: 15px;" >
                        <tbody>
                            <tr>
                                <td
                                    style="padding: 0.5rem 2rem;border-bottom: 1px solid black;border-right: 1px solid black;">
                                    Property Name</td>
                                <td style="padding: 0.5rem 2rem;border-bottom: 1px solid black;">{{ stay.resort_name }}</td>
                            </tr>
                            <tr>
                                <td
                                    style="padding: 0.5rem 2rem;border-bottom: 1px solid black;border-right: 1px solid black;">
                                    Location</td>
                                <td style="padding: 0.5rem 2rem;border-bottom: 1px solid black;">{{ stay.location }}</td>
                            </tr>
                            <tr>
                                <td
                                    style="padding: 0.5rem 2rem;border-bottom: 1px solid black;border-right: 1px solid black;">
                                    Checkin & checkout</td>
                                <td style="padding: 0.5rem 2rem;border-bottom: 1px solid black;">{{ stay.checkin_time }} - {{ stay.checkout_time }}</td>
                            </tr>
                            <tr>
                                <td
                                    style="padding: 0.5rem 2rem;border-bottom: 1px solid black;border-right: 1px solid black;">
                                    Stay type</td>
                                <td style="padding: 0.5rem 2rem;border-bottom: 1px solid black;">{{ stay.stay_type }}</td>
                            </tr>
                            <tr>
                                <td
                                    style="padding: 0.5rem 2rem;border-bottom: 1px solid black;border-right: 1px solid black;">
                                    Room Type</td>
                                <td style="padding: 0.5rem 2rem;border-bottom: 1px solid black;">{{ stay.room_type1 }}</td>
                            </tr>
                            <tr>
                                <td
                                    style="padding: 0.5rem 2rem;border-bottom: 1px solid black;border-right: 1px solid black;">
                                    Capacity</td>
                                <td style="padding: 0.5rem 2rem;border-bottom: 1px solid black;">
                                    {{ stay.no_of_persons }}
                                </td>
                            </tr>
                            <tr>
                                <td
                                    style="padding: 0.5rem 2rem;border-bottom: 1px solid black;border-right: 1px solid black;">
                                    Amenitis</td>
                                <td style="padding: 0.5rem 2rem;border-bottom: 1px solid black;">{{ stay.amenities }}</td>
                            </tr>
                            <tr>
                                <td
                                    style="padding: 0.5rem 2rem;border-bottom: 1px solid black;border-right: 1px solid black;">
                                    Property Email</td>
                                <td style="padding: 0.5rem 2rem;border-bottom: 1px solid black;">{{ stay.resort_email }}</td>
                            </tr>
                            <tr>
                                <td
                                    style="padding: 0.5rem 2rem;border-bottom: 1px solid black;border-right: 1px solid black;">
                                    Property Contact</td>
                                <td style="padding: 0.5rem 2rem;border-bottom: 1px solid black;" class="break-all">{{ stay.resort_mobile }}</td>
                            </tr>
                            <tr>
                                <td
                                    style="padding: 0.5rem 2rem;border-bottom: 1px solid black;border-right: 1px solid black;">
                                    view Pdf</td>
                                <td style="padding: 0.5rem 2rem;border-bottom: 1px solid black;" class="break-all">
                                    {% if stay.stay_pdf %}
                                    <a href="{{ stay.stay_pdf.url }}" download class="download-btn rounded-pill">Download</a>
                                {% else %}
                                    No PDF available
                                {% endif %}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div style="margin-bottom: 2rem;padding-block: 2rem;">

                   
                </div>
            </div>
        </div>
        <!-- <div class="invoice-content" 
            style="height: auto; background-color: white; box-shadow: 0px -1px 3px 1px rgb(204, 200, 200);">
            <div class="mt-4" style="padding-left:4rem;padding-right: 4rem;">
                <div>
                    <h4 class="text-uppercase" style="font-size:1.8rem;padding-top:3rem">Terms and Conditions</h4>
                    <ul class="mt-5">
                        <li style="font-size:1rem;padding-bottom: 1rem;">Kindly provide valid ID proofs of all guest
                            at the time of CHECK-IN (mandatory). If you are a
                            foreign guest provide valid Passports and Visa</li>
                        <li style="font-size:1rem;padding-bottom: 1rem;">Balance payment should be done during
                            check-in time.</li>
                        <li style="font-size:1rem;padding-bottom: 1rem;">Early CHECK-IN and late CHECK-OUT are
                            subject
                            to availability.</li>
                        <li style="font-size:1rem;padding-bottom: 1rem;">Alcohol consumptions are not allowed in
                            public areas.</li>
                        <li style="font-size:1rem;padding-bottom: 1rem;">Pets not allowed in this Resort.</li>
                        <li style="font-size:1rem;padding-bottom: 1rem;">Cancellation / No-Show Policy: Full
                            retention
                            for cancellation before 30 days and 50% retention
                            charges </li>
                        <li style="font-size:1rem;padding-bottom: 1rem;">For cancellation done before 15 days to
                            arrival, After that amount non-refundable.</li>
                    </ul>
                </div>
            </div>
        </div> -->
    </div>

    <!-- MOBILE ---------------------------------------------------------------------------------->
    <div class="" id="invoice-details-mobile" style="margin: auto; font-family: 'Poppins', sans-serif;">
        <div class="invoice-content"
            style="height: auto; background-color: white; box-shadow: 0px -1px 3px 1px rgb(204, 200, 200);">
            <div class="view-details" style="background-color: #324969; padding: 1rem;">
                <div class="mt-3 px-1 py-2 " style="color: white;">
                    <div>
                        <table style="width: 100%;">
                            <tr>
                                <td style="padding-left: 1rem;">
                                    <img src="{%static 'assets/invchr.png'%}?{% now "U" %}" style="width: 40%;" />
                                    <p style="margin: 5px 0;">7909 151 146</p>
                                    <p style="margin: 5px 0;">www.navigotrips.com</p>
                                    <p style="margin: 5px 0;">Navig trips LLP
                                        [LLPIN ABB - 4601]
                                        Vatakara 
                                        Kozhikode 
                                        Kerala</p>
                                </td>
                            </tr>
                            <tr>
                                <td
                                    style="font-size: 1.5rem; font-weight: 600; text-align: right;padding-right: 2rem;white-space: nowrap;">
                                   <span id="num-value"></span></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="" style="width: 100%;">
                <div style="width: 100%;margin-top: 5rem;">
                    
                </div>
                <div>
                    <table
                        style="width: 90%;border-collapse: collapse;  border: 1px solid black;margin-inline: auto;text-align: center;text-transform: uppercase;margin-top: 15px;" >
                        <tbody>
                            <tr>
                                <td
                                    style="padding: 0.5rem 2rem;border-bottom: 1px solid black;border-right: 1px solid black;">
                                    Property Name</td>
                                <td style="padding: 0.5rem 2rem;border-bottom: 1px solid black;">{{ stay.resort_name }}
                                </td>
                            </tr>
                            <tr>
                                <td
                                    style="padding: 0.5rem 2rem;border-bottom: 1px solid black;border-right: 1px solid black;">
                                    Location</td>
                                <td style="padding: 0.5rem 2rem;border-bottom: 1px solid black;">{{ stay.location }}</td>
                            </tr>
                            <tr>
                                <td
                                    style="padding: 0.5rem 2rem;border-bottom: 1px solid black;border-right: 1px solid black;">
                                    Checkin & checkout</td>
                                <td style="padding: 0.5rem 2rem;border-bottom: 1px solid black;">{{ stay.checkin_time }} - {{ stay.checkout_time }}</td>
                            </tr>
                            <tr>
                                <td
                                    style="padding: 0.5rem 2rem;border-bottom: 1px solid black;border-right: 1px solid black;">
                                    Stay type</td>
                                <td style="padding: 0.5rem 2rem;border-bottom: 1px solid black;">{{ stay.stay_type }}</td>
                            </tr>
                            <tr>
                                <td
                                    style="padding: 0.5rem 2rem;border-bottom: 1px solid black;border-right: 1px solid black;">
                                    Room Type</td>
                                <td style="padding: 0.5rem 2rem;border-bottom: 1px solid black;">{{ stay.room_type1 }}</td>
                            </tr>
                            <tr>
                                <td
                                    style="padding: 0.5rem 2rem;border-bottom: 1px solid black;border-right: 1px solid black;">
                                    Capacity</td>
                                <td style="padding: 0.5rem 2rem;border-bottom: 1px solid black;">
                                    {{ stay.no_of_persons }}
                                </td>
                            </tr>
                            <tr>
                                <td
                                    style="padding: 0.5rem 2rem;border-bottom: 1px solid black;border-right: 1px solid black;">
                                    Amenitis</td>
                                <td style="padding: 0.5rem 2rem;border-bottom: 1px solid black;">{{ stay.amenities }}</td>
                            </tr>
                            <tr>
                                <td
                                    style="padding: 0.5rem 2rem;border-bottom: 1px solid black;border-right: 1px solid black;">
                                    Property Email</td>
                                <td style="padding: 0.5rem 2rem;border-bottom: 1px solid black;">{{ stay.resort_email }}</td>
                            </tr>
                            <tr>
                                <td
                                    style="padding: 0.5rem 2rem;border-bottom: 1px solid black;border-right: 1px solid black;">
                                    Property Contact</td>
                                <td style="padding: 0.5rem 2rem;border-bottom: 1px solid black;" class="break-all">{{ stay.resort_mobile }}</td>
                            </tr>
                            <tr>
                                <td
                                    style="padding: 0.5rem 2rem;border-bottom: 1px solid black;border-right: 1px solid black;">
                                    view Pdf</td>
                                <td style="padding: 0.5rem 2rem;border-bottom: 1px solid black;" class="break-all">
                                    {% if stay.stay_pdf %}
                                        <a href="{{ stay.stay_pdf.url }}" download class="download-btn rounded-pill">Download</a>
                                    {% else %}
                                        No PDF available
                                    {% endif %}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
            </div>
        </div>
        <!-- <div class="invoice-content" 
            style="height: auto; background-color: white; box-shadow: 0px -1px 3px 1px rgb(204, 200, 200);">
            <div class="mt-4" style="padding-left:2rem;padding-right: 2rem;">
                <div>
                    <h4 class="text-uppercase" style="font-size:1.8rem;padding-top:3rem">Terms and Conditions</h4>
                    <ul class="mt-5">
                        <li style="font-size:1rem;padding-bottom: 1rem;">Kindly provide valid ID proofs of all guest
                            at the time of CHECK-IN (mandatory). If you are a
                            foreign guest provide valid Passports and Visa</li>
                        <li style="font-size:1rem;padding-bottom: 1rem;">Balance payment should be done during
                            check-in time.</li>
                        <li style="font-size:1rem;padding-bottom: 1rem;">Early CHECK-IN and late CHECK-OUT are
                            subject
                            to availability.</li>
                        <li style="font-size:1rem;padding-bottom: 1rem;">Alcohol consumptions are not allowed in
                            public areas.</li>
                        <li style="font-size:1rem;padding-bottom: 1rem;">Pets not allowed in this Resort.</li>
                        <li style="font-size:1rem;padding-bottom: 1rem;">Cancellation / No-Show Policy: Full
                            retention
                            for cancellation before 30 days and 50% retention
                            charges </li>
                        <li style="font-size:1rem;padding-bottom: 1rem;">For cancellation done before 15 days to
                            arrival, After that amount non-refundable.</li>
                    </ul>
                </div>
            </div>
        </div> -->
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>

<script>
window.addEventListener('resize', () => {
    window.location.reload()
    console.log('reload');
});


    document.getElementById("downloadButton").addEventListener("click", function () {
 const element = document.getElementById("invoice-details");
 const itnryValue = document.getElementById('num-value').textContent

  element.style.display='block'
 const opt = {
     // margin: 0.5,
     filename: `${itnryValue}.pdf`,
     image: { type: 'jpeg', quality: 1 },
     html2canvas: { scale: 1.5 },
     jsPDF: { unit: 'in', format: [8.5,12], orientation: 'portrait' },
 };
 html2pdf().from(element).set(opt).save().then(()=>{
    if (window.innerWidth < 600) {
        element.style.display = 'none';
    }
        console.log('ðŸ¤Œ');
    });;
});

 </script>
</body>
</html>